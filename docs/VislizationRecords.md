# 项目记录



## 分辨率



> juicebox 最高分辨率为500bp



[1000000, 1000000, 500000, 250000, 100000, 50000, 25000, 10000, 5000, 2500, 500]

[1250000, 500000, 250000, 125000, 50000, 25000, 12500, 5000, 2500, 500]



| 分辨率  | 矩阵最大长度 |         |
| ------- | ------------ | ------- |
| 2.5 Mb  | 3610M        | 2500000 |
| 1.25 Mb |              | 1250000 |
| 1 Mb    | 1444M        | 1000000 |
| 500 Kb  | 722M         | 500000  |
| 250 Kb  | 361M         | 250000  |
| 125 Kb  |              | 125000  |
| 100 Kb  | 144M         | 100000  |
| 50 Kb   | 72M          | 50000   |
| 25 Kb   | 36M          | 25000   |
| 12.5 Kb |              | 12500   |
| 10 Kb   | 14M          | 10000   |
| 5 Kb    | 7M           | 5000    |
| 2500 bp | 3.6M         | 2500    |
| 500 bp  | 722k         | 500     |



2.5M + 1M + 500K + 250K 直接可视化整条染色体之间的互作热图, 可以实现并且不会报错



## Png_Info



- 图片记录文件数据结构（**空格分割**）

png_name genome_id chr_A chr_A_start chr_A_end chr_B chr_B_start chr_A_end   

| png_path | genome_id | chr_A | chr_A_start | chr_A_end | chr_B | chr_B_start | chr_A_end |
| -------- | --------- | ----- | ----------- | --------- | ----- | ----------- | --------- |
|          |           |       |             |           |       |             |           |



## Normalization

标准化：最好选NONE，选其他的会出现错误（如果选KR，在500分辨率下，就已经不能提出对象了）



## Config



### 长宽

2022.9.26

在现有数据集上，测试各个分辨率下的**最大长宽**

| 分辨率  | Np                  | Ls（同Np） | Aa                  |
| ------- | ------------------- | ---------- | ------------------- |
| 2500000 |                     |            | 3614900000 （3.6G） |
| 1250000 | 1800000000 （1.8G） |            |                     |
| 1000000 |                     |            | 1445900000（1.4G）  |
| 500000  | 722000000（722M）   |            | 722000000           |
| 250000  | 361400000（361M）   |            | 361300000           |
| 125000  | 180740000（180M）   |            |                     |
| 100000  |                     |            | 144500000（144M）   |
| 50000   | 72299000（72M）     |            | 72299000            |
| 25000   | 36149000（36M）     |            | 36149000            |
| 12500   | 18070000（18M）     |            |                     |
| 10000   |                     |            | 14450000（14M）     |
| 5000    | 7229000（7.2M）     |            | 7229000             |
| 2500    | 3614000（3.6M）     |            |                     |
| 1000    |                     |            | 1445000（1.4M）     |
| 500     | 722900（722K）      |            |                     |



- 不正常情况

| 分辨率 | Hv                 |
| ------ | ------------------ |
| 833333 | 1200000000（1.2G） |
| 333333 | 481900000（480M）  |
| 166666 | 240990000（240M）  |
| 83333  | 120000000（120M）  |
| 33333  | 48190000（48M）    |
| 16666  | 24000000（24M）    |
| 8333   | 12000000（12M）    |
| 3333   | 4800000（4.8M）    |
| 1666   | 2400000（2.4M）    |
| 333    | 480000（480K）     |



```sh
# 预定义长宽(特殊情况)
LEN_WIDTH_SETS_S = {
    833333: 1200000000,
    333333: 481900000,
    166666: 240990000,
    83333: 120000000,
    33333: 48190000,
    16666: 24000000,
    8333: 12000000,
    3333: 4800000,
    1666: 2400000,
    333: 480000}
```





---

- 生成图片时，实际使用的长宽

| 分辨率  | 实际使用长宽 |
| ------- | ------------ |
| 2500000 | 300000000    |
| 1250000 | 300000000    |
| 1000000 | 200000000    |
| 500000  | 200000000    |
| 250000  | 150000000    |
| 125000  | 100000000    |
| 100000  | 70000000     |
| 50000   | 50000000     |
| 25000   | 25000000     |
| 12500   | 18000000     |
| 10000   | 14000000     |
| 5000    | 5000000      |
| 2500    | 3600000      |
| 1000    | 1445000      |
| 500     | 720000       |



---





### 增量

| 分辨率  | 增量 |
| ------- | ---- |
| 2500000 |      |
| 1250000 |      |
| 1000000 |      |
| 500000  |      |
| 250000  |      |
| 125000  |      |
| 100000  |      |
| 50000   |      |
| 25000   |      |
| 12500   |      |
| 10000   |      |
| 5000    |      |
| 2500    |      |
| 500     |      |



### 色阈范围

> 详见ColorRange.xlsx  ，下表已弃用

| 分辨率  | Np   | Ls   | Aa   | Mm   |
| ------- | ---- | ---- | ---- | ---- |
| 2500000 |      |      | 7649 | 6289 |
| 1250000 | 2141 | 1026 |      |      |
| 1000000 |      |      | 2264 | 1244 |
| 500000  | 380  | 84   | 236  | 328  |
| 250000  | 256  | 58   | 144  | 84   |
| 125000  | 162  | 30   |      |      |
| 100000  |      |      | 72   | 26   |
| 50000   | 80   | 20   | 34   | 16   |
| 25000   | 32   | 8    | 18   | 14   |
| 12500   | 20   | 4    |      |      |
| 10000   |      |      | 6    | 6    |
| 5000    | 4    | 2    | 4    | 10   |
| 2500    | 4    | 2    |      |      |
| 1000    |      |      | 2    | 2    |
| 500     | 2    | 2    |      |      |



